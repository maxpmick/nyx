---
name: python-defaults
description: Manage and utilize Python 2 environments, development headers, and debugging tools. Use when running legacy Python 2 scripts, compiling C/C++ extensions for Python 2, debugging Python 2 applications, or managing Python 2 bytecode and documentation.
---

# python-defaults

## Overview
A collection of packages and utilities providing the default Python 2 environment on Kali Linux. It includes the interpreter, development headers for C extensions, debugging builds, and maintenance tools like `pyclean` and `pycompile`. Category: Exploitation / Development Tools.

## Installation (if not already installed)
Python 2 is often pre-installed, but specific components may be missing:

```bash
sudo apt install python2 python2-dev python2-dbg
```

## Common Workflows

### Running a Legacy Script
```bash
python2 script.py
```

### Debugging a Python 2 Script
```bash
pdb2 script.py
```

### Compiling C Extensions
Get the necessary flags for compiling a C extension for Python 2:
```bash
python2-config --cflags --ldflags
```

### Cleaning Bytecode
Remove all `.pyc` and `.pyo` files in a directory:
```bash
pyclean .
```

## Complete Command Reference

### python2 / python2-dbg
The Python 2 interpreter. `python2-dbg` is the debug build.

**Usage:** `python2 [option] ... [-c cmd | -m mod | file | -] [arg] ...`

| Flag | Description |
|------|-------------|
| `-b` | Issue warnings about comparing bytearray with unicode (-bb: errors) |
| `-B` | Don't write .py[co] files on import |
| `-c cmd` | Program passed in as string |
| `-d` | Debug output from parser |
| `-E` | Ignore PYTHON* environment variables |
| `-h`, `--help` | Print help message |
| `-i` | Inspect interactively after running script |
| `-m mod` | Run library module as a script |
| `-O` | Optimize generated bytecode slightly |
| `-OO` | Remove doc-strings in addition to -O optimizations |
| `-R` | Use pseudo-random salt for hash() values |
| `-Q arg` | Division options: `old` (default), `warn`, `warnall`, `new` |
| `-s` | Don't add user site directory to sys.path |
| `-S` | Don't imply 'import site' on initialization |
| `-t` | Issue warnings about inconsistent tab usage (-tt: errors) |
| `-u` | Unbuffered binary stdout and stderr |
| `-v` | Verbose (trace import statements); use multiple times for more detail |
| `-V`, `--version` | Print Python version number |
| `-W arg` | Warning control (action:message:category:module:lineno) |
| `-x` | Skip first line of source (for non-Unix #!cmd) |
| `-3` | Warn about Python 3.x incompatibilities |

### pydoc2
The Python documentation tool.

| Command | Description |
|---------|-------------|
| `pydoc2 <name>` | Show text documentation on a keyword, topic, function, or module |
| `pydoc2 -k <keyword>` | Search for a keyword in synopsis lines of all modules |
| `pydoc2 -p <port>` | Start an HTTP server on the given port for documentation |
| `pydoc2 -g` | Pop up a graphical interface for documentation |
| `pydoc2 -w <name>` | Write out HTML documentation for a module to a file |

### python2-config / python2-dbg-config
Output build options for Python C/C++ extensions or embedding.

**Usage:** `python2-config [option]`

| Option | Description |
|--------|-------------|
| `--prefix` | Print the prefix directory |
| `--exec-prefix` | Print the executable prefix directory |
| `--includes` | Print the include flags (e.g., -I/usr/include/python2.7) |
| `--libs` | Print the libraries to link against |
| `--cflags` | Print the C compiler flags |
| `--ldflags` | Print the linker flags |
| `--extension-suffix` | Print the suffix used for extension modules |
| `--configdir` | Print the configuration directory |

### pygettext2
Python equivalent of xgettext(1) for internationalization.

| Flag | Description |
|------|-------------|
| `-a`, `--extract-all` | Extract all strings |
| `-d name`, `--default-domain=name` | Rename default output to name.pot |
| `-E`, `--escape` | Replace non-ASCII characters with octal escapes |
| `-D`, `--docstrings` | Extract module, class, method, and function docstrings |
| `-k word`, `--keyword=word` | Additional keywords to look for (default: `_`) |
| `-K`, `--no-default-keywords` | Disable default keywords |
| `--no-location` | Do not write filename/lineno location comments |
| `-n`, `--add-location` | Write location comments (default) |
| `-o file`, `--output=file` | Rename default output file |
| `-p dir`, `--output-dir=dir` | Output files placed in directory |
| `-S style`, `--style style` | Location comment style: `Solaris` or `GNU` (default) |
| `-v`, `--verbose` | Print names of files being processed |
| `-w columns`, `--width=columns` | Set output width |
| `-x file`, `--exclude-file=file` | File containing strings to exclude |
| `-X file`, `--no-docstrings=file` | File containing list of files to skip docstring extraction |

### pyclean
Removes .pyc and .pyo files.

| Flag | Description |
|------|-------------|
| `-v`, `--verbose` | Turn on verbose mode |
| `-q`, `--quiet` | Be quiet |
| `-p PACKAGE`, `--package=PACKAGE` | Specify Debian package name to clean |

### pycompile
Byte compile Python source files.

| Flag | Description |
|------|-------------|
| `-f`, `--force` | Force rebuild even if timestamps are up-to-date |
| `-O` | Byte-compile to .pyo files |
| `-p PACKAGE` | Specify Debian package name to bytecompile |
| `-V VRANGE` | Force version range (e.g., '2.5', '2.5-', '2.5-2.7') |
| `-X REGEXPR` | Exclude items matching REGEXPR |

### pyversions
Print Python version information.

| Flag | Description |
|------|-------------|
| `-d`, `--default` | Print the default python version |
| `-s`, `--supported` | Print the supported python versions |
| `-i`, `--installed` | Print the installed supported python versions |
| `-r <arg>`, `--requested` | Print versions requested by a build/control file |
| `-v`, `--version` | Print just the version number(s) |

## Notes
- Python 2 is end-of-life. Use these tools only for legacy compatibility or specific exploit requirements.
- `python2-dbg` is useful when a Python extension is crashing the interpreter and you need a backtrace with symbols.