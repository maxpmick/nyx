---
name: wotmate
description: Reimplement the defunct PGP pathfinder using a local GnuPG keyring to find and visualize trust paths between keys. Use when analyzing the PGP Web of Trust (WoT), identifying shortest paths between signed keys and a target, or verifying trust chains within open-source projects and security communities.
---

# wotmate

## Overview
wotmate is a collection of Python tools designed to reimplement PGP pathfinding capabilities locally. It allows users to map the Web of Trust (WoT) by analyzing their own keyring to find shortest paths between trusted keys and specific targets. Category: Reconnaissance / Information Gathering.

## Installation (if not already installed)
Assume wotmate is already installed. If you get a "command not found" error:

```bash
sudo apt install wotmate
```

Dependencies: python3, python3-pydotplus.

## Common Workflows

### Initialize the local database
Before running pathfinding scripts, you must export your keyring and build the SQLite database that wotmate uses for queries.
```bash
python3 /usr/share/wotmate/export-keyring.py > my_keyring.json
python3 /usr/share/wotmate/make-sqlitedb.py my_keyring.json wot.db
```

### Graph paths to a specific target key
Draw the shortest path between keys you have personally signed and a specific target key ID.
```bash
python3 /usr/share/wotmate/graph-paths.py --db wot.db --target <KEY_ID> --output path.dot
dot -Tpng path.dot -o path.png
```

### Find paths to all fully-trusted keys
Identify shortest paths to every key marked with full trust in your keyring.
```bash
python3 /usr/share/wotmate/graph-to-full.py --db wot.db --output full_trust.dot
```

## Complete Command Reference

The wotmate suite consists of several scripts located in `/usr/share/wotmate/`.

### export-keyring.py
Exports the local GnuPG keyring into a JSON format suitable for database ingestion.
- **Usage**: `python3 export-keyring.py > output.json`

### make-sqlitedb.py
Converts the JSON export into a searchable SQLite database.
- **Usage**: `python3 make-sqlitedb.py <input_json> <output_db>`

### graph-paths.py
Draws the shortest path between each key you have personally signed and the target key.
- **Usage**: `python3 graph-paths.py [options]`
- **Options**:
    - `--db <file>`: Path to the SQLite database created by `make-sqlitedb.py`.
    - `--target <keyid>`: The PGP Key ID you want to find a path to.
    - `--output <file>`: Output filename for the Graphviz DOT file.

### graph-to-full.py
Finds shortest paths to each fully-trusted key in your keyring.
- **Usage**: `python3 graph-to-full.py [options]`
- **Options**:
    - `--db <file>`: Path to the SQLite database.
    - `--output <file>`: Output filename for the Graphviz DOT file.

### wotmate (Wrapper/Helper)
A helper script or entry point for the suite.
- **Usage**: `wotmate -h`

## Notes
- The resulting `.dot` files generated by the graphing scripts can be converted to images using the `dot` command from the `graphviz` package (e.g., `dot -Tpng input.dot -o output.png`).
- The tool relies on your local GnuPG trust database; ensure your ownertrust values are set correctly in `gpg` for accurate results.
- This tool is particularly useful for verifying the "Web of Trust" in developer communities (like Debian or Linux Kernel development).